{"version":3,"sources":["views/MovieDetailsPage/MovieDetailsPage.jsx","services/movie-api.jsx","views/NotFound/NotFound.module.css","img/not-found.jpg","views/NotFound/NotFound.jsx","components/Loader/Loader.jsx","img/notFoundImg.png","services/BaseImgURL.jsx","components/Loader/Loader.module.css","views/MovieDetailsPage/MovieDetailsPage.module.css"],"names":["Status","Cast","lazy","Reviews","MoviesDeteilsPage","movieId","useParams","useRouteMatch","url","path","history","useHistory","location","useLocation","useState","movie","setMovie","error","setError","status","setStatus","useEffect","moviesApi","FetchMovieInfo","then","poster_path","original_title","popularity","overview","genres","src","baseImageURL","NoImgFound","title","score","toFixed","catch","console","log","className","s","container","btn","onClick","push","state","from","type","wrapper","img","alt","description","movieTitle","info","genre","map","generItem","name","id","subMenu","to","pathname","submenuItem","activeClassName","activeSubmenuItem","fallback","query","a","config","params","axios","data","results","cast","defaults","baseURL","api_key","language","api","FetchTrendingMovies","fetchMoviesByKeyWord","FetchCastInfo","FetchMovieReviews","module","exports","NotFoundView","width","notFound","Spiner","loader","color","height","timeout"],"mappings":"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","file":"static/js/6.e5aafe4e.chunk.js","sourcesContent":["import { useEffect, useState, lazy, Suspense } from \"react\";\r\nimport {\r\n  useParams,\r\n  Route,\r\n  NavLink,\r\n  useRouteMatch,\r\n  useHistory,\r\n  useLocation,\r\n} from 'react-router-dom';\r\nimport s from '../MovieDetailsPage/MovieDetailsPage.module.css';\r\nimport moviesApi from '../../services/movie-api'\r\nimport NotFoundView from '../NotFound/NotFound';\r\nimport Loader from '../../components/Loader/Loader';\r\nimport NoImgFound from '../../img/notFoundImg.png';\r\nimport baseImageURL from '../../services/BaseImgURL';\r\n\r\nconst Status = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n}\r\n\r\nconst Cast = lazy (() => import('../Cast/Cast'))\r\nconst Reviews = lazy (() => import('../Reviews/Reviews'))\r\n\r\nexport default function MoviesDeteilsPage() {\r\n  \r\n  const { movieId } = useParams()\r\n  const { url, path } = useRouteMatch()\r\n  const history = useHistory()\r\n  const location = useLocation()\r\n  const [ movie, setMovie ] = useState(null)\r\n  const [ error, setError ] = useState(null)\r\n  const [ status, setStatus ] = useState(Status.IDLE)\r\n\r\n  useEffect(() => {\r\n    setStatus(Status.PENDING)\r\n      moviesApi\r\n      .FetchMovieInfo(movieId)\r\n      .then(({ poster_path, original_title, popularity, overview, genres}) => {\r\n        setMovie({\r\n          src: poster_path\r\n          ? `${baseImageURL}${poster_path}`\r\n          : `${NoImgFound}`,\r\n          title: original_title,\r\n          score: popularity.toFixed(1),\r\n          overview,\r\n          genres,\r\n        })\r\n        setStatus(Status.RESOLVED)\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n        setError(error)\r\n        setStatus(Status.REJECTED)\r\n      })\r\n    }, [movieId, error])\r\n\r\n\r\n  const goBack = () => {\r\n    history.push(location?.state?.from ?? '/')\r\n  }\r\n\r\n  return (\r\n    <main className={s.container}>\r\n      <button className={s.btn} onClick={goBack} type='button'>Go Back</button>\r\n      {status === Status.PENDING && <Loader />}\r\n      {status === Status.REJECTED && <NotFoundView />}\r\n      {status === Status.RESOLVED && (\r\n     <>\r\n      <div className={s.wrapper}>\r\n        <img className={s.img} src={movie.src} alt={movie.title} />\r\n      <div className={s.description}>\r\n        <h2 className={s.movieTitle}>{movie.title}</h2>\r\n        <h3 className={s.title}>Score</h3>\r\n        <p className={s.info}>{movie.score}</p>\r\n        <h3 className={s.title}>About</h3>\r\n        <p className={s.info}>{movie.overview}</p>\r\n        <h3 className={s.title}>Genres</h3>\r\n        <ul className={s.genre}>\r\n          {movie.genres.map(genre => (\r\n            <li className={s.generItem}\r\n            key={genre.id}>{genre.name}</li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n      </div>\r\n      <ul className={s.subMenu}>\r\n        <li>\r\n      <NavLink \r\n      to={{\r\n        pathname: `${url}/cast`,\r\n       state: {\r\n          from: location.state ? location.state.from : '/',\r\n       } \r\n       }}\r\n              className={s.submenuItem}\r\n              activeClassName={s.activeSubmenuItem}>\r\n         Cast\r\n      </NavLink>\r\n      </li>\r\n    \r\n      <li>\r\n        <NavLink\r\n        to={{\r\n          pathname: `${url}/reviews`,\r\n          state: {\r\n            from: location.state ? location.state.from : '/',\r\n          }\r\n        }}\r\n              className={s.submenuItem}\r\n              activeClassName={s.activeSubmenuItem}\r\n        >\r\n      Reviews\r\n        </NavLink>\r\n      </li>\r\n      </ul>\r\n      <hr/>\r\n    {\r\n      <Suspense fallback={<Loader />}>\r\n        <Route path={`${path}/cast`}>\r\n          {status === Status.RESOLVED && <Cast />}\r\n        </Route>\r\n        <Route path={`${path}/reviews`}>\r\n              {status === Status.RESOLVED && <Reviews />}\r\n            </Route>\r\n      </Suspense>\r\n    } \r\n      </>\r\n    )}\r\n    </main>\r\n  )\r\n}","import axios from \"axios\"\r\n\r\nconst BASE_URL = 'https://api.themoviedb.org/3'\r\nconst API_KEY = 'f8f9751a5749389ca93ecf12bfd37415'\r\n\r\naxios.defaults.baseURL = BASE_URL\r\naxios.defaults.params = {\r\n  api_key: API_KEY,\r\n  language: 'en-US',\r\n}\r\n\r\n//список\r\n\r\nconst FetchTrendingMovies = async() => {\r\n  try {\r\n    const config = {\r\n url: `trending/movie/week`,\r\n}\r\nconst { data } = await axios(config)\r\nreturn data.results }\r\ncatch (error) {\r\n console.log('error', { error });\r\n return null\r\n}\r\n}\r\n\r\n //поиск по ключевому слову\r\n\r\nasync  function fetchMoviesByKeyWord(query) {\r\n  if (!query) {\r\n    return \r\n }\r\n  try {\r\n    const config = {\r\n  url: `search/movie`,\r\n  params: {\r\n    query,\r\n  }\r\n}\r\nconst { data } = await axios(config, query)\r\nreturn data.results }\r\n  catch(error) {\r\n    console.log('error', { error });\r\n    return null\r\n  }\r\n}\r\n//запрос полной информации\r\n\r\nasync function FetchMovieInfo (id) {\r\n  try {\r\n    const config = {\r\n  url: `movie/${id}`,}\r\n  \r\n  const { data } = await axios(config, id)\r\n  return data }\r\n  catch(error) {\r\n    console.log('error', { error });\r\n    return null\r\n  }\r\n}\r\n\r\n//запрос актеров\r\n\r\nasync function FetchCastInfo (id) {\r\n  try {\r\n    const config = {\r\n  url : `movie/${id}/credits`,}\r\n  \r\n  const { data } = await axios(config, id)\r\n  return data.cast }\r\n  catch (error) {\r\n    console.log('error', { error });\r\n    return null\r\n  }\r\n }\r\n//запрос обзора\r\n\r\nasync function FetchMovieReviews(id) {\r\ntry {\r\n  const config = {\r\n  url: `movie/${id}/reviews`,}\r\n\r\n  const { data } = await axios (config, id)\r\n  return data.results }\r\n  catch(error) {\r\n    console.log('error', { error });\r\n    return null\r\n  }\r\n}\r\n\r\n\r\n\r\nconst api = {\r\n  FetchTrendingMovies,\r\n  fetchMoviesByKeyWord,\r\n  FetchMovieInfo,\r\n  FetchCastInfo,\r\n  FetchMovieReviews,\r\n}\r\n\r\nexport default api","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"NotFound_wrapper__30CBE\"};","export default __webpack_public_path__ + \"static/media/not-found.8dfe76dc.jpg\";","import notFound from '../../img/not-found.jpg';\r\nimport s from '../NotFound/NotFound.module.css';\r\n\r\nexport default function NotFoundView() {\r\n\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <img\r\n      width='700' \r\n      src={notFound} \r\n      alt='nothing-found'>\r\n      </img>\r\n    </div>\r\n  )\r\n}","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from '../Loader/Loader.module.css'\r\n\r\n\r\nexport default function Spiner() {\r\n  return (\r\n    <div className={s.loader}>\r\n    <Loader\r\n      type=\"Grid\"\r\n      color=\"#ff8c00\"\r\n      height={100}\r\n      width={100}\r\n      timeout={3000} //3 secs\r\n    />\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/notFoundImg.d11b58e2.png\";","const baseImageURL = 'https://image.tmdb.org/t/p/w500';\r\n\r\nexport default baseImageURL;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1TkX0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"MovieDetailsPage_title__3n508\",\"img\":\"MovieDetailsPage_img__3YUNe\",\"wrapper\":\"MovieDetailsPage_wrapper__1fqiP\",\"btn\":\"MovieDetailsPage_btn__1wJkf\",\"container\":\"MovieDetailsPage_container__3zhy-\",\"description\":\"MovieDetailsPage_description__2nyl8\",\"movieTitle\":\"MovieDetailsPage_movieTitle__2VNKZ\",\"info\":\"MovieDetailsPage_info__1bU_U\",\"genre\":\"MovieDetailsPage_genre__33lLk\",\"generItem\":\"MovieDetailsPage_generItem__2CgV5\",\"subMenu\":\"MovieDetailsPage_subMenu__RZxfP\",\"submenuItem\":\"MovieDetailsPage_submenuItem__TBhwG\",\"activeSubmenuItem\":\"MovieDetailsPage_activeSubmenuItem__1f-ti\"};"],"sourceRoot":""}