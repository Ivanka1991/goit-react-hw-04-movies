{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/Searchbar/Searchbar.jsx","views/MoviesPage/MoviesPage.jsx","services/movie-api.jsx","views/NotFound/NotFound.module.css","img/not-found.jpg","views/NotFound/NotFound.jsx","components/Loader/Loader.jsx","img/notFoundImg.png","services/BaseImgURL.jsx","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","views/MoviesPage/MoviesPage.module.css"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","Searchbar","onSubmit","useState","query","setQuery","className","s","form","e","preventDefault","trim","toast","warn","formInput","type","autoFocus","autoComplete","placeholder","onChange","toLowerCase","btn","Status","MoviesPage","history","useHistory","location","useLocation","url","useRouteMatch","movies","setMovies","error","setError","status","setStatus","useEffect","search","newSearch","URLSearchParams","get","moviesApi","fetchMoviesByKeyWord","then","results","catch","console","log","newQuery","Loader","NotFound","moviesList","map","movie","moviesItem","to","pathname","id","state","poster","src","poster_path","baseImageURL","NoImgFound","alt","title","box","a","config","params","axios","data","cast","defaults","baseURL","api_key","language","api","FetchTrendingMovies","FetchMovieInfo","FetchCastInfo","FetchMovieReviews","module","exports","NotFoundView","wrapper","width","notFound","Spiner","loader","color","height","timeout"],"mappings":"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","file":"static/js/4.985b231e.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import { useState } from \"react\";\r\nimport { toast } from 'react-toastify';\r\nimport s from '../Searchbar/Searchbar.module.css'\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n const [query, setQuery] = useState('')\r\n\r\n const handelQueryChange = e => {\r\n  setQuery(e.target.value.toLowerCase());\r\n }\r\n const handleSubmit = e => {\r\n  e.preventDefault();\r\n\r\n  if (query.trim() === '') {\r\n    toast.warn('Oops, enter your query !');\r\n    return;\r\n  }\r\n  onSubmit(query);\r\n  setQuery('');\r\n}\r\n\r\nreturn (\r\n  <form className={s.form} onSubmit={handleSubmit}>\r\n    <input\r\n    className={s.formInput}\r\n    type='text'\r\n    autoFocus\r\n    autoComplete=\"off\"\r\n    placeholder='search...'\r\n    value={query}\r\n    onChange={handelQueryChange}/>\r\n    <button className={s.btn} type='submit'>Search</button>\r\n  </form>\r\n)\r\n\r\n}","import { useState, useEffect } from 'react';\r\nimport { Link, useRouteMatch, useLocation, useHistory } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport moviesApi from '../../services/movie-api'\r\nimport NotFoundView from '../NotFound/NotFound';\r\nimport Loader from '../../components/Loader/Loader';\r\nimport NoImgFound from '../../img/notFoundImg.png';\r\nimport baseImageURL from '../../services/BaseImgURL';\r\nimport Searchbar from '../../components/Searchbar/Searchbar';\r\nimport s from '../MoviesPage/MoviesPage.module.css'\r\n\r\nconst Status = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n}\r\n\r\nexport default function MoviesPage() {\r\n  const history = useHistory()\r\n  const location = useLocation()\r\n  const { url } = useRouteMatch()\r\n  const [ movies, setMovies ] = useState(null)\r\n  const[ query, setQuery ] = useState('')\r\n  const [ error, setError ] = useState(null)\r\n  const [ status, setStatus ] = useState(Status.IDLE)\r\n  \r\n\r\n\r\n  const handleFormSubmit = newQuery => {\r\n    if (newQuery === query)\r\n    return\r\n\r\n    setQuery(newQuery)\r\n    setMovies(null)\r\n    setStatus(Status.IDLE)\r\n    history.push({ ...location, search: `query=${newQuery}`})\r\n  }\r\n\r\nuseEffect (() => {\r\n  if (location.search === '') {\r\n    return\r\n  }\r\n  const newSearch = new URLSearchParams(location.search).get('query');\r\n    setQuery(newSearch);\r\n  }, [location.search]);\r\n\r\n useEffect(() => {\r\n   if(!query) \r\n   return\r\n\r\n   setStatus(Status.PENDING)\r\n\r\n   moviesApi\r\n   .fetchMoviesByKeyWord(query)\r\n   .then(results => {\r\n     if (results.length === 0){\r\n       toast.error(`Not Found.`)\r\n       setStatus(Status.REJECTED)\r\n       return\r\n     }\r\n\r\n     setMovies(results)\r\n     setStatus(Status.RESOLVED)\r\n   })\r\n   .catch(error => {\r\n     console.log(error)\r\n     setError(error)\r\n     setStatus(Status.REJECTED)\r\n   })\r\n }, [query, error])\r\n\r\nreturn (\r\n  <>\r\n   <Searchbar onSubmit={handleFormSubmit} />\r\n\r\n      {status === Status.PENDING && <Loader/>}\r\n      {status === Status.REJECTED && <NotFoundView/>}\r\n      {status === Status.RESOLVED && (\r\n     <>\r\n  \r\n    <ul className={s.moviesList} >\r\n      {movies.map(movie => (\r\n        <li  className={s.moviesItem} key={movie.id}>\r\n           <Link\r\n            to={{\r\n            pathname:`${url}/${movie.id}`,\r\n            state: { form: location},\r\n          }}>\r\n            <img className={s.poster} \r\n            src={movie.poster_path\r\n            ? `${baseImageURL}${movie.poster_path}`\r\n            : NoImgFound}\r\n            alt={movie.title} />\r\n            </Link>\r\n            <div className={s.box} >\r\n              <p className={s.title} >{movie.title}</p>\r\n            </div>\r\n        </li>\r\n        \r\n      ))}\r\n    </ul>\r\n    </>\r\n  )}\r\n  </>\r\n)\r\n\r\n}","import axios from \"axios\"\r\n\r\nconst BASE_URL = 'https://api.themoviedb.org/3'\r\nconst API_KEY = 'f8f9751a5749389ca93ecf12bfd37415'\r\n\r\naxios.defaults.baseURL = BASE_URL\r\naxios.defaults.params = {\r\n  api_key: API_KEY,\r\n  language: 'en-US',\r\n}\r\n\r\n//список\r\n\r\nconst FetchTrendingMovies = async() => {\r\n  try {\r\n    const config = {\r\n url: `trending/movie/week`,\r\n}\r\nconst { data } = await axios(config)\r\nreturn data.results }\r\ncatch (error) {\r\n console.log('error', { error });\r\n return null\r\n}\r\n}\r\n\r\n //поиск по ключевому слову\r\n\r\nasync  function fetchMoviesByKeyWord(query) {\r\n  if (!query) {\r\n    return \r\n }\r\n  try {\r\n    const config = {\r\n  url: `search/movie`,\r\n  params: {\r\n    query,\r\n  }\r\n}\r\nconst { data } = await axios(config, query)\r\nreturn data.results }\r\n  catch(error) {\r\n    console.log('error', { error });\r\n    return null\r\n  }\r\n}\r\n//запрос полной информации\r\n\r\nasync function FetchMovieInfo (id) {\r\n  try {\r\n    const config = {\r\n  url: `movie/${id}`,}\r\n  \r\n  const { data } = await axios(config, id)\r\n  return data }\r\n  catch(error) {\r\n    console.log('error', { error });\r\n    return null\r\n  }\r\n}\r\n\r\n//запрос актеров\r\n\r\nasync function FetchCastInfo (id) {\r\n  try {\r\n    const config = {\r\n  url : `movie/${id}/credits`,}\r\n  \r\n  const { data } = await axios(config, id)\r\n  return data.cast }\r\n  catch (error) {\r\n    console.log('error', { error });\r\n    return null\r\n  }\r\n }\r\n//запрос обзора\r\n\r\nasync function FetchMovieReviews(id) {\r\ntry {\r\n  const config = {\r\n  url: `movie/${id}/reviews`,}\r\n\r\n  const { data } = await axios (config, id)\r\n  return data.results }\r\n  catch(error) {\r\n    console.log('error', { error });\r\n    return null\r\n  }\r\n}\r\n\r\n\r\n\r\nconst api = {\r\n  FetchTrendingMovies,\r\n  fetchMoviesByKeyWord,\r\n  FetchMovieInfo,\r\n  FetchCastInfo,\r\n  FetchMovieReviews,\r\n}\r\n\r\nexport default api","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"NotFound_wrapper__30CBE\"};","export default __webpack_public_path__ + \"static/media/not-found.8dfe76dc.jpg\";","import notFound from '../../img/not-found.jpg';\r\nimport s from '../NotFound/NotFound.module.css';\r\n\r\nexport default function NotFoundView() {\r\n\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <img\r\n      width='700' \r\n      src={notFound} \r\n      alt='nothing-found'>\r\n      </img>\r\n    </div>\r\n  )\r\n}","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from '../Loader/Loader.module.css'\r\n\r\n\r\nexport default function Spiner() {\r\n  return (\r\n    <div className={s.loader}>\r\n    <Loader\r\n      type=\"Grid\"\r\n      color=\"#ff8c00\"\r\n      height={100}\r\n      width={100}\r\n      timeout={3000} //3 secs\r\n    />\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/notFoundImg.d11b58e2.png\";","const baseImageURL = 'https://image.tmdb.org/t/p/w500';\r\n\r\nexport default baseImageURL;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1TkX0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Searchbar_form__12pqZ\",\"formInput\":\"Searchbar_formInput__bhGNR\",\"btn\":\"Searchbar_btn__JIDl6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"moviesList\":\"MoviesPage_moviesList__3aeju\",\"moviesItem\":\"MoviesPage_moviesItem__2wxg5\",\"box\":\"MoviesPage_box__3AF3a\",\"poster\":\"MoviesPage_poster__cS2AO\",\"title\":\"MoviesPage_title__14yMf\"};"],"sourceRoot":""}